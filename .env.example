# Example environment variables for Miyan_Backend
# Copy this to `.env` and fill the values before deploying.

# ---------------------------------------------------------------------------
# Django basics
# ---------------------------------------------------------------------------
DJANGO_SECRET_KEY=changeme
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=miyangroup.com,www.miyangroup.com
DJANGO_LOG_LEVEL=INFO

# ---------------------------------------------------------------------------
# API domains and cross-origin settings
# ---------------------------------------------------------------------------
DJANGO_CORS_ALLOWED_ORIGINS=https://miyangroup.com,https://www.miyangroup.com,https://app.miyangroup.com,https://api.miyangroup.com,http://localhost:3000,http://127.0.0.1:3000
DJANGO_CSRF_TRUSTED_ORIGINS=https://miyangroup.com,https://www.miyangroup.com,https://app.miyangroup.com,https://api.miyangroup.com,http://localhost:3000,http://127.0.0.1:3000
DJANGO_SESSION_COOKIE_NAME=miyan_sessionid
DJANGO_CSRF_COOKIE_NAME=miyan_csrftoken

# ---------------------------------------------------------------------------
# Security defaults for production deployments
# ---------------------------------------------------------------------------
DJANGO_SECURE_SSL_REDIRECT=True
DJANGO_TRUST_PROXY_HEADERS=True
DJANGO_USE_X_FORWARDED_HOST=True

# ---------------------------------------------------------------------------
# REST framework throttle rates
# ---------------------------------------------------------------------------
DRF_USER_THROTTLE_RATE=1000/hour
DRF_ANON_THROTTLE_RATE=100/hour

# ---------------------------------------------------------------------------
# Observability (optional)
# ---------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=production

# ---------------------------------------------------------------------------
# Build metadata (optional)
# ---------------------------------------------------------------------------
APP_VERSION=1.0.0
APP_COMMIT_SHA=local

# ---------------------------------------------------------------------------
# Database overrides for local (optional). docker compose already injects the
# correct settings via the root `.env`.
# ---------------------------------------------------------------------------
# DATABASE_URL=postgres://miyan:password@db:5432/miyan
# POSTGRES_DB=miyan
# POSTGRES_USER=miyan
# POSTGRES_PASSWORD=password
# POSTGRES_HOST=db
# POSTGRES_PORT=5432
# DB_CONN_MAX_AGE=60
# DB_SSL_REQUIRE=False

# ---------------------------------------------------------------------------
# Telegram bot settings
# ---------------------------------------------------------------------------
# Telegram bot token provided by BotFather. Required for the `telegram-bot` service
TELEGRAM_TOKEN=

# Shared secret used by the bot and Django to securely exchange tokens.
# Set the same value in both this file (or container env) and `TELEGRAM_SHARED_SECRET`
# in `config/settings.py` (environment variable `TELEGRAM_SHARED_SECRET` is read into
# `settings.BOT_SHARED_SECRET`). Keep this secret safe and rotate when needed.
TELEGRAM_SHARED_SECRET=

# Optional: override the API URL used by the bot (defaults to http://web:8000 in compose)
# Example for local dev: API_URL=http://host.docker.internal:8000
API_URL=
